///////////
	Если флКассиры Тогда 
		ИмяФайлаКассиры = Каталог + "Kassirs.dbf" ;
		Если ВыгрузитьКассиров(Каталог) Тогда 
			Архив.Добавить(ИмяФайлаКассиры);
		КонецЕсли ;
	КонецЕсли;	
/////////


 Функция ДБФ_Кассиры(Каталог)
	ПолнИмяФайла = Каталог + "\Kassirs.dbf";
	База = Новый XBase();
	п = База.поля;
	п.Добавить("PASS","C",20,0);  // Пароль кассира
	п.Добавить("NUMBER","N",2,0);  // Номер кассира
	п.Добавить("NAME","C",60,0);  // имя кассира 
	п.Добавить("TYPE","N",1,0);  // Тип кассира
	//Тип кассира
	//0 – стажёр;
	//1 – кассир;
	//2 – старший кассир;
	//3 – администратор (может быть только один).
	База.СоздатьФайл(ПолнИмяФайла);
	База.Кодировка = КодировкаXBase.OEM;
	
	Возврат База;
КонецФункции	
 
Функция ВыгрузитьКассиров(Каталог) 
	
	//	Тип кассира
	//0 – стажёр;
	//1 – кассир;
	//2 – старший кассир;
	//3 – администратор (может быть только один).
	
	
	рез = Ложь ;
	//тБаза = Новый ТаблицаЗначений ;
	//тБаза.Колонки.Добавить("Number");
	//тБаза.Колонки.Добавить("Name");
	//тБаза.Колонки.Добавить("Type");
	//тБаза.Колонки.Добавить("Pass");
	
	База = ДБФ_Кассиры(Каталог);
	Запрос = Новый Запрос;
	Запрос.УстановитьПараметр("СвойствоТипКассира",СвойствоТипКассира); 
	Запрос.УстановитьПараметр("СвойствоПарольКассира",СвойствоПарольКассира); 
	Запрос.Текст = "ВЫБРАТЬ
	|	ЗначенияСвойствОбъектов.Объект КАК Объект,
	|	ВЫБОР
	|		КОГДА ЗначенияСвойствОбъектов.Свойство = &СвойствоПарольКассира
	|			ТОГДА ЗначенияСвойствОбъектов.Значение
	|		ИНАЧЕ -1
	|	КОНЕЦ КАК Pass,
	|	ЗначенияСвойствОбъектов.Объект.Код КАК Number,
	|	ЗначенияСвойствОбъектов.Объект.Наименование КАК NAME,
	|	ВЫБОР
	|		КОГДА ЗначенияСвойствОбъектов.Свойство = &СвойствоТипКассира
	|			ТОГДА ВЫБОР
	|					КОГДА ЗначенияСвойствОбъектов.Значение.Наименование = ""Стажер""
	|						ТОГДА 0
	|					КОГДА ЗначенияСвойствОбъектов.Значение.Наименование = ""Кассир""
	|						ТОГДА 1
	|					КОГДА ЗначенияСвойствОбъектов.Значение.Наименование = ""СтаршийКассир""
	|						ТОГДА 2
	|					КОГДА ЗначенияСвойствОбъектов.Значение.Наименование = ""Администратор""
	|						ТОГДА 3
	|					ИНАЧЕ -1
	|				КОНЕЦ
	|		ИНАЧЕ -1
	|	КОНЕЦ КАК Type,
	|	ЗначенияСвойствОбъектов.Свойство
	|ИЗ
	|	РегистрСведений.ЗначенияСвойствОбъектов КАК ЗначенияСвойствОбъектов
	|ГДЕ
	|	ЗначенияСвойствОбъектов.Свойство В (&СвойствоПарольКассира, &СвойствоТипКассира)
	|	И ЗначенияСвойствОбъектов.Объект ССЫЛКА Справочник.ФизическиеЛица
	|
	|УПОРЯДОЧИТЬ ПО
	|	Объект
	|ИТОГИ ПО
	|	Объект";
	Выборка = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	
	Пока Выборка.Следующий() Цикл 
		Выборка2 = Выборка.Выбрать();
		Pass = -1 ;
		Type = -1 ;
		Пока Выборка2.Следующий() Цикл 
			
			Если Выборка2.Свойство  = СвойствоПарольКассира Тогда 
				Pass = Выборка2.Pass;
			ИначеЕсли Выборка2.Свойство = СвойствоТипКассира Тогда 
				Type = Выборка2.Type;
			КонецЕсли ;	
			
		КонецЦикла ;
		Если Pass >0 И Type <>-1 Тогда 
			База.Добавить();
			База.Name  = Выборка.Name;
			База.Number = Выборка.Number ;
			База.Pass  = Формат(Pass,"ЧГ=0");
			База.Type = Type ;
			
			//стрНов = тБаза.Добавить();
			//стрНов.Name  = Выборка.Name;
			//стрНов.Number = Выборка.Number ;
			//стрНов.Pass  = Pass;
			//стрНов.Type = Type ;
			
			
			База.Записать();
		КонецЕсли ;
	КонецЦикла ;
	рез = Истина ;
	Возврат рез ;
КонецФункции
