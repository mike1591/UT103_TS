///////////
	Если флКассиры Тогда 
		ИмяФайлаКассиры = Каталог + "Kassirs.dbf" ;
		Если ВыгрузитьКассиров(Каталог) Тогда 
			Архив.Добавить(ИмяФайлаКассиры);
		КонецЕсли ;
	КонецЕсли;	
/////////


 Функция ДБФ_Кассиры(Каталог)
	ПолнИмяФайла = Каталог + "\Kassirs.dbf";
	База = Новый XBase();
	п = База.поля;
	п.Добавить("PASS","C",20,0);  // Пароль кассира
	п.Добавить("NUMBER","N",2,0);  // Номер кассира
	п.Добавить("NAME","C",60,0);  // имя кассира 
	п.Добавить("TYPE","N",1,0);  // Тип кассира
	//Тип кассира
	//0 – стажёр;
	//1 – кассир;
	//2 – старший кассир;
	//3 – администратор (может быть только один).
	База.СоздатьФайл(ПолнИмяФайла);
	База.Кодировка = КодировкаXBase.OEM;
	
	Возврат База;
КонецФункции	
 
 Функция ВыгрузитьКассиров(Каталог) 
	
	//	Тип кассира
	//0 – стажёр;
	//1 – кассир;
	//2 – старший кассир;
	//3 – администратор (может быть только один).
	
	
	рез = Ложь ;
	
	База = ДБФ_Кассиры(Каталог);
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ
	|	ФизическиеЛица.Ссылка
	|ИЗ
	|	Справочник.ФизическиеЛица КАК ФизическиеЛица
	|ГДЕ
	|	(НЕ ФизическиеЛица.ПометкаУдаления)
	|	И (НЕ ФизическиеЛица.ЭтоГруппа )";
	результатЗапроса = Запрос.Выполнить() ;
	
	Если Не результатЗапроса.Пустой() Тогда 
		СписокОбъектов = результатЗапроса.Выгрузить().ВыгрузитьКолонку("Ссылка");	
		Запрос.УстановитьПараметр("СписокОбъектов",СписокОбъектов);
		Запрос.Текст = "ВЫБРАТЬ
		|	ЗначенияСвойствОбъектов.Объект КАК Объект,
		|	ЗначенияСвойствОбъектов.Свойство.Наименование КАК Наименование,
		|	ЗначенияСвойствОбъектов.Значение
		|ИЗ
		|	РегистрСведений.ЗначенияСвойствОбъектов КАК ЗначенияСвойствОбъектов
		|ГДЕ
		|	ЗначенияСвойствОбъектов.Объект В(&СписокОбъектов)
		|
		|УПОРЯДОЧИТЬ ПО
		|	Объект";
		Выборка = Запрос.Выполнить().Выбрать();
		НомерКассира  = 0 ;
		
		//Для каждого элем  из СписокОбъектов цикл 
		//	Выборка.Сбросить() ;
		Пока Выборка.СледующийПоЗначениюПоля("Объект") Цикл 
			НомерКассира  = НомерКассира + 1 ;
			База.Добавить();
			
			База.Name  = Выборка.Объект.Наименование;
			База.Number = НомерКассира ;
			Пока Выборка.СледующийПоЗначениюПоля("Наименование") Цикл 
				
				Если Выборка.Наименование = "ПарольКассира" Тогда 
					База.Pass = Выборка.Значение;
				ИначеЕсли Выборка.Наименование = "ТипКассира" Тогда 
					База.Type = ТипКассира(Выборка.Значение.Наименование);
				КонецЕсли ;	
			КонецЦикла ;
			База.Записать();
		КонецЦикла ;
		рез = Истина ;
		//КонецЦикла ; 	
	КонецЕсли ;
	Возврат рез ;
КонецФункции	

Функция ДБФ_Кассиры(Каталог)
	ПолнИмяФайла = Каталог + "\Kassirs.dbf";
	База = Новый XBase();
	п = База.поля;
	п.Добавить("PASS","C",20,0);  // Пароль кассира
	п.Добавить("NUMBER","N",2,0);  // Номер кассира
	п.Добавить("NAME","C",60,0);  // имя кассира 
	п.Добавить("TYPE","N",1,0);  // Тип кассира
	//Тип кассира
	//0 – стажёр;
	//1 – кассир;
	//2 – старший кассир;
	//3 – администратор (может быть только один).
	База.СоздатьФайл(ПолнИмяФайла);
	База.Кодировка = КодировкаXBase.OEM;
	
	Возврат База;
КонецФункции	

Функция ТипКассира(ЗначениеСвойства)
	рез = -1 ;
	Если ЗначениеСвойства = "Администратор"	Тогда 
		рез = 3 ;
	ИначеЕсли ЗначениеСвойства = "СтаршийКассир"	Тогда 
		рез = 2 ;
	ИначеЕсли ЗначениеСвойства = "Кассир"	Тогда 
		рез = 1 ;
	ИначеЕсли ЗначениеСвойства = "Стажёр"	Тогда 
		рез = 0 ;
	КонецЕсли ;	
	Возврат рез;
КонецФункции	
